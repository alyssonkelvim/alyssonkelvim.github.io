<html>

<head>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
    <title>Dino Game</title>
</head>




<body>

    <script>
        var pontuacao;
        var score;
        var scoreCamera;
        var dinossauro;
        var arco;

    </script>

    <a-scene>

        <a-text value="Score: 0" width="100" id="score" rotation="0 0 0" color="white" position="-5 40 0" visible="true" text="" scale=""></a-text>
        <a-text value="VITORIA!" width="500" id="vitoria" rotation="0 0 0" color="blue" position="-15 25 0" visible="false" scale="" text=""></a-text>


        <script>
            window.onloadend = window.alert("Clique em 'Ok' para come√ßar o jogo !");

        </script>

        <a-entity environment="preset: yavapai; groundColor: #4b803e ; groundColor2: #2a4a17;
        skyColor: #e0ba31; ground: flat; horizonColor: #fab587"></a-entity>

        <a-asset-item id="dinossauro" position="5 0 0" response-type="arraybuffer" src="scene.glb" static-body physics-collider="ignoreSleep: true"></a-asset-item>
        <a-entity gltf-model="#dinossauro" static-body physics-collider="ignoreSleep: true" scale="0.005 0.005 0.005" animation-mixer="clip:Armature|run_cycle" animation="property: position; to: 0 0 -98; dur: 40000; easing: linear" animation-mixer="clip:Armature|run_cycle" wasd-controls="property: acceleration; acceleration: 4000; fly:true; wsAxis: y; wsInverted: true">
        </a-entity>

        <a-entity camera look-controls position="0 2 3" animation="property: position; to: 0 2 -94; dur: 40000; easing: linear">
            <a-text id="scoreCamera" value="Score: 0" width="1" geometry="primitive:plane; height: 0.1; width:0.1" position="-0.7 0.35 -0.5" visible="true" rotation="" scale="" text=""></a-text>


        </a-entity>

        <a-entity id="arco" gltf-model="arco/scene.gltf" scale="0.1 0.1 0.1" position="0 0 -98" visible=""></a-entity>
        <a-entity gltf-model="#arco" scale="0.15 0.15 0.15"></a-entity>


        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -10" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="1.2 0 -10" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -20" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="-1.2 0 -20" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -30" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -40" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="-1.2 0 -40" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -50" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="1.2 0 -50" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -60" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="1.2 0 -60" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -70" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="-1.2 0 -70" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="-1.2 0 -80" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="1.2 0 -80" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -85" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="-1.2 0 -90" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="1.2 0 -90" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>

        <a-entity gltf-model="cacto/scene.glb" scale="0.1 0.1 0.1" position="0 0 -95" visible="" static-body physics-collider="ignoreSleep: true"></a-entity>
        <a-entity gltf-model="#cacto" scale="0.15 0.15 0.15"></a-entity>
    </a-scene>

    <script>
        dinossauro = document.getElementById("dinossauro");
        arco = document.getElementById("arco");
        score = document.getElementById("score");
        scoreCamera = document.getElementById("scoreCamera");

        function iniciar() {
            console.log("ScoreCamera:" + pontuacao);
            pontuacao = 0;
            dinossauro = document.getElementById("dinossauro");
            posicaoJogador = dinossauro.getAttribute("position").z;
            console.log(dinossauro.getAttribute("position"));
            pontuacao += 1;
            score.setAttribute("value", "Score: " + pontuacao);
            scoreCamera.setAttribute("value", "Score: " + pontuacao);
            scoreCamera.setAttribute("visible", "true");
        }

        iniciar();

    </script>


</body>

</html>
